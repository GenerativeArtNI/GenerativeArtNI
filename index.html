<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Degenerate Dolphins</title>
    <link rel="icon" href = "favicon-32.png" sizes="32x32">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
	<style>
		body {
			font-family: 'Montserrat';font-size: 18px;
			background-image: url('sea3.jpg');
			background-size: cover;
			}
	</style>	
</head>
<body style="background-color:rgb(0, 154, 190);">
    <style>
        .meta-gray {
            -webkit-filter: grayscale(1);
        }
        .meta-normal {
            -webkit-filter: grayscale(0);
        }
    </style>

    <div class="container">
        <div style="margin-top: 10px;" class="row text-center">
            <div class="col-md-12">
                <h2><span style="color:darkgreen;font-size:72px"><b>Degenerate Dolphins</b></span></h2>
            </div>            
        </div>
        <div class="row text-center">
            <div class="col-md-12">
                <img id="icondolphin" class="meta-normal" src="first.gif" alt="Degenerate Dolphins gif"  width="320" height="320">
	    </div>
        </div>
	    
	    
	<br><br>
	    
	    
<div class="row">
  <div class="col-md-4">
    <div class="thumbnail">
      <a href="899.png">
        <img src="899.png" alt="Lights" style="width:100%">
        <div class="caption">
          <p><span style="color:darkgreen;font-size:14px"><b>Degenerate Dolphin 899 has one of the rarest traits a golden crown that only 1% of them have, that is 21.</b></span></p>
        </div>
      </a>
    </div>
  </div>
  <div class="col-md-4">
    <div class="thumbnail">
      <a href="2099.png">
        <img src="2099.png" alt="Nature" style="width:100%">
        <div class="caption">
          <p><span style="color:darkgreen;font-size:14px"><b>Degenerate Dolphin 2099 wears a golden helmet that only 34 of them have, less than 2%.</b></span></p>
        </div>
      </a>
    </div>
  </div>
  <div class="col-md-4">
    <div class="thumbnail">
      <a href="3241.png">
        <img src="3241.png" alt="Fjords" style="width:100%">
        <div class="caption">
          <p><span style="color:darkgreen;font-size:14px"><b>Degenerate Dolphin 3241 is accompanied by a Super mushroom, that only 2% have, wears a golden chain found in only 3%.</b></span></p>
        </div>
      </a>
    </div>
  </div>
</div>	    
	    
	    
	    
	    
		
	<div class="row text-center">
                <div class="col-md-12">
                    <span style="color:Deeppink;font-size:28px;font-weight:bold">Collection of 3333 unique pixelated Dolphin collectibles.
					<br>All of them released onto the Ethereum blockchain.
					<br>Each trait is handcrafted & each dolphin is unique.
					<br>Are you ready to join the pod?</span>
                </div>
         </div>
	    
	    
	 <div class="row text-center">
                <div class="col-md-12">
                    <span style="color:darkgreen;font-size:28px;font-weight:bold">Assets:
			<br>Traits include accesories and extra toys, backgrounds,
			<br>Differents eyes, body and border colors.
			<br>All of them with different levels of scarcity,
			<br>From common to the rarest like Crowns or Supermushrooms.</span>
                	<br>
		</div>
         </div>
	    
	 <div class="row text-center">
            <div class="col-md-12">
                <img id="dolphintraits" class="meta-normal" src="dolphins2fps.gif" alt="Degenerate Dolphins Traits"  width="320" height="320">
	    </div>
        </div>
	    
	 <div class="row text-center">
                <div class="col-md-12">
                    <span style="color:darkgreen;font-size:28px;font-weight:bold">Assets:
			<br>Bodies and Border colors you will find, blue and lightblue is the most commom
			<br>Green Brown Yellow are more scarce</span>
                	<br>
		</div>
         </div>
	 <div class="row text-center">
            <div class="col-md-12">
                <img id="dolphinbodies" class="meta-normal" src="dolphinsbodies2fps.gif" alt="Degenerate Dolphins Bodies"  width="320" height="320">
	    </div>
        </div>	    
		

		
	
        <section class="contract-section hidden">
            <div style="margin-top: 30px;" class="row text-center">
                <div class="col-md-12">
                    <h3>Mint Dolphins</h3>
                </div>
            </div>
			
            <div class="row text-center">
                <div class="col-md-12">
                    <span>Price: 0.02 ETH each<i id="priceEach"></i></span>
                </div>
            </div>
			
            <div class="row text-center">
                <div class="col-md-12">
                    <span>Remaining to Mint: <i id="getRemaining"></i></span>
                </div>
            </div>
			
            <div class="row text-center">
                <div class="col-md-12">
                    <span>Current Supply: <i id="getSupply"></i></span>
                </div>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <span>Gas Price: <i id="showgas"></i></span>
					<button id="updategas" class="btn btn-info btn-sm">update</button></span>
                </div>
            </div>
	    <br><br>
		
		
	<div style="margin-top: 10px;" class="row text-center">
		<div class="col-md-12">
                	<button id="enableMetamask" class="btn btn-primary">Connect with Metamask</button>
            	</div>
	</div>
        <div class="row text-center">
            <div class="col-md-12">
                <span id="status"></span>
            </div>
        </div>
	<br>
			
            <div class="row text-center">
                <div class="col-md-12">
					<label for="select_qty">Select Quantity of Dolphins to Mint</label>
					<select name="select_qty" id="select_qty"  style="background:lightsteelblue">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
						<option value="11">11</option>
						<option value="12">12</option>
						<option value="13">13</option>
						<option value="14">14</option>
						<option value="15">15</option>
						<option value="16">16</option>
						<option value="17">17</option>
						<option value="18">18</option>
						<option value="19">19</option>
						<option value="20">20</option>
					</select>
					<br>		
					<button id="btnMintDolphin" class="btn btn-primary">Mint</button></span>
                </div>
            </div>
			
			
            <div class="row text-center">
                <div class="col-md-12">
                    <span><i id="txResult"></i></span>
                </div>
            </div>
			<br>
			<br>			
            <div class="row text-center">
                <div class="col-md-12">
                    <span>Insert an Address to check Dolphins balance <input id="queryAddress" type="string" class="form-control" style="background:gainsboro" >
					<button id="getBalance" class="btn btn-primary">Get Balance of Address</button>
					</span>
                </div>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <span><i id="showBalance"></i> Dolphins Owned</span>
                </div>
            </div>			
			<br>
			<br>


			<div class="row text-center">
                <div class="col-md-12" style="color:darkgreen" >
					<p class="text-center">				
                                        <span><b>ROADMAP</b>
					<p class="text-justify">

					<br><b>&#128044;</b> 3 Dolphins Adoption: Rocky, Johnny, & Rambo <a href="https://www.dolphinproject.com/" style="color:black">(dolphinproject.com)</a>
					You'll get a personalized adoption certificate, quarterly updates about Rocky, Johnny & Rambo.
					<br>
					<br><b>&#128044;</b> Donation to <a href="https://dolphins.org/donatenowpaintedbags" style="color:black">dolphins.org</a>, real Dolphins paint of 10 Tote-Bags for our community plus minted NFT.	
					<br>
					<br><b>&#128044;</b> Our Baby Dolphins Collection will be released. For each Degenerate Dolphin you own, you'll be able to mint a Baby Dolphin.
					<br>
					<br><b>&#128044;</b> 3D .VOX format airdrop, for 100 randomly chosen Degenerate Dolphins, or  Discord community-voting poll in order to best determine 100 selected winners. 					
					<br>
					<br>Donating to an organization focused on helping to protect dolphins.
					<a href="https://www.dolphinproject.com/" style="color:black">dolphinproject.com</a>
					<br>Looking forward to diving through the OpenSea with you all!
					<br>EEE! EEE! EEE! 
					</p>

					
					
					</span>
                </div>
			</div>	


			
			<div class="row text-center">			
				<a href="https://opensea.io/collection/degeneratedolphins"
					<div class="col-md-12" style="color:black">
						<span><i id="linkOpensea"></i><b>Visit Opensea</b></span>
					</div>
				</a>
			</div>
			<div class="row text-center">
				<a href="https://twitter.com/DegenDolphins"
					<div class="col-md-12" style="color:black">
						<span><i id="linkTwitter"></i><b>Follow on Twitter</b></span>
					</div>
				</a>
			</div>
			<div class="row text-center">
				<a href="https://t.co/w97YLIvrxV?amp=1"
					<div class="col-md-12" style="color:black">
						<span><i id="linkDiscord"></i><b>Join Discord</b></span>
					</div>
				</a>
			</div>
        </section>
			
    </div>
	
	
    <script>
        let currentAccount = null;
        let web3;
        let abi = [{"inputs":[{"internalType":"address payable","name":"_beneficiary1","type":"address"},{"internalType":"address payable","name":"_beneficiary2","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"index","type":"uint256"},{"indexed":true,"internalType":"address","name":"minter","type":"address"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_PURCHASE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"RemainingtoMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TOKEN_LIMIT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_approved","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"contentHash","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"devMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"quantity","type":"uint256"}],"name":"mintDolphin","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"_name","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"_owner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"_interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"_symbol","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}];
        let contractAddress = '0x16e18c26d51d56d344e5d8b39008a80f46bd995e';
	let gasprice;
	let _gasprice;
		

        function handleAccountsChanged(accounts) {
            console.log('Calling HandleChanged')

            if (accounts.length === 0) {
                console.log('Connect to MetaMask.');
                $('#enableMetamask').html('Connect with Metamask')
				//$('#getRemaining').html('')
				//$('#getSupply').html('')
		    		$('#txResult').html('')
				
				
				
            } else if (accounts[0] !== currentAccount) {
                currentAccount = accounts[0];				
                $('#enableMetamask').html('Metamask Connected')
                $('#status').html(currentAccount)
				
                if(currentAccount != null) {
                    $('#enableMetamask').html('Metamask Connected')					
                }
            }
            console.log('WalletAddress in HandleAccountChanged = ' + currentAccount)
        }

        function connect() {
            console.log('Calling connect()')
            ethereum
            .request({ method: 'eth_requestAccounts' })
            .then(handleAccountsChanged)
            .catch((err) => {
            if (err.code === 4001) {
                console.log('Please connect to MetaMask.');
		$('#status').html('')
		$('#getRemaining').html('')
		$('#getSupply').html('')
				
				
            } else {
                console.error(err);
            }
            });
        }

        function detectMetaMask() {
            if (typeof window.ethereum !== 'undefined') {                
                return true
            } else {                
                return false
            }
        }
		
	async function getBalance(){
		
			var queryaddr = $('#queryAddress').val();
		
		    console.log('getBalance')
            const contractDolph = new web3.eth.Contract(
                        abi,
                        contractAddress
            );

            contractDolph.methods.balanceOf(queryaddr).call().then(function (result) {                
                $('#showBalance').html(result)
            });
		}
				
        async function getSupply() {
            console.log('getSupply')
            const contractDolph = new web3.eth.Contract( abi, contractAddress );

            contractDolph.methods.RemainingtoMint().call().then(function (result) {                
                $('#getRemaining').html(result)
            });
			
	    contractDolph.methods.totalSupply().call().then(function (result) {                
				$('#getSupply').html(result)
			});
		
	getgasprice();		
        }
	    
	async function getgasprice(){
			gasprice = await web3.eth.getGasPrice();
			_gasprice = web3.utils.fromWei(gasprice, 'gwei');
			_gasprice = parseInt(_gasprice);
			$('#showgas').html(_gasprice);		
		}
		
        async function MintDolphin() {
            console.log('MintDolphin')
			
		const price = 20000000000000000;
		const _gas = 200000;
		


            dolphinsQuantity = $('#select_qty').val()

            if(dolphinsQuantity.trim() == '') {
                dolphinsQuantity = 0
            }
            if(!isNaN(dolphinsQuantity)) {
                dolphinsQuantity = parseInt(dolphinsQuantity)   
            }

            const contractDolph = new web3.eth.Contract( abi, contractAddress );

            contractDolph.methods.mintDolphin(dolphinsQuantity).send({from:currentAccount, to:contractAddress, value: price*dolphinsQuantity, gas: _gas*dolphinsQuantity, maxPriorityFeePerGas: 2000000000 }).then(function (result) {
                console.log(result);
                $('#txResult').html('Minting of ' + dolphinsQuantity + ' Dolphins, Tx: ' + result)
            });
        }		
    </script>
	
    <script>   


        $( document ).ready(function() {
            m = detectMetaMask()
            if(m) {
                $('#enableMetamask').attr('disabled',false)
		 //connect()
            } else {
                $('#enableMetamask').attr('disabled',true)
            }

            $('#enableMetamask').click(function() {
                connect()
            });

            $('#btnMintDolphin').click(function() {
                MintDolphin();
				getSupply();
            });
			
            $('#getBalance').click(function() {
                getBalance()
            });

	    $('#updategas').click(function() {

			getgasprice();
			
			});


            try {			
		web3 = new Web3(ethereum);
            } catch (error) {
                //alert(error)
            }
	   getSupply();

            
        })
    </script>  
</body>
</html>
